<h3 class="h3 ml-sm-2" style="color: #F9AA33">Charts BME280</h3><style>    canvas {        -moz-user-select: none;        -webkit-user-select: none;        -ms-user-select: none;    }    .chartjs-tooltip {        opacity: 1;        position: absolute;        background: rgba(0, 0, 0, .7);        color: white;        border-radius: 3px;        -webkit-transition: all .1s ease;        transition: all .1s ease;        pointer-events: none;        -webkit-transform: translate(-50%, 0);        transform: translate(-50%, 0);        padding: 4px;    }</style><div id="canvas-holder1">    <canvas id="chart" style="display: block; height: auto; width: auto; cursor: pointer;"            class="chartjs-render-monitor"></canvas>    <div class="chartjs-tooltip" id="tooltip-0"></div></div><br><div class="rounded py-sm-1" style="background-color: #344955">    <table class="table table-striped text-center" style="color: #f5f5f5">        <thead>        <tr style="color: #F9AA33">            <th scope="col">temperature</th>            <th scope="col">humidity</th>            <th scope="col">pressure</th>            <th scope="col">created</th>        </tr>        </thead>        <tbody>        {% for dt in db_data[0] %}            <tr>                <td>{{ dt['temperature'] }}</td>                <td>{{ dt['humidity'] }}</td>                <td>{{ dt['pressure'] }}</td>                <td>{{ dt['created'].strftime('%H:%M %d/%m/%Y ') }}</td>            </tr>        {% endfor %}        </tbody>    </table></div><script type="text/javascript">    var chartNumber = 2;    var chart_data = [];    var data_label = '';    function get_chart_id() {   // 2 - tempr, 3 - hum, 4 - pressure        if (chartNumber === 2) {            chart_data = {{ db_data[2]|safe }};            data_label = 'Temperature';        } else if (chartNumber === 3) {            chart_data = {{ db_data[3]|safe }};            data_label = 'Humidity';        } else if (chartNumber === 4) {            chart_data = {{ db_data[4]|safe }};            data_label = 'Pressure';        }    }    var customTooltips = function (tooltip) {        $(this._chart.canvas).css('cursor', 'pointer');        var positionY = this._chart.canvas.offsetTop;        var positionX = this._chart.canvas.offsetLeft;        $('.chartjs-tooltip').css({            opacity: 0,        });        if (!tooltip || !tooltip.opacity) {            return;        }        if (tooltip.dataPoints.length > 0) {            tooltip.dataPoints.forEach(function (dataPoint) {                var content = [dataPoint.xLabel, dataPoint.yLabel].join(': ');                var $tooltip = $('#tooltip-' + dataPoint.datasetIndex);                $tooltip.html(content);                $tooltip.css({                    opacity: 1,                    top: positionY + dataPoint.y + 'px',                    left: positionX + dataPoint.x + 'px',                });            });        }    };    var timeFormat = 'MM/DD/YYYY HH:mm:ss';    var color = Chart.helpers.color;    function load_graph() {        get_chart_id();        var ctx = document.getElementById('chart');        window.myLine = new Chart(ctx, {            type: 'line',            data: {                labels: {{ db_data[5]|safe }},                datasets: [{                    label: data_label,                    backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),                    borderColor: window.chartColors.red,                    fill: false,                    data: chart_data,                },]            },            options: {                title: {                    text: 'Chart.js Time Scale'                },                scales: {                    xAxes: [{                        type: 'time',                        time: {                            parser: timeFormat,                            // round: 'day'                            tooltipFormat: 'll HH:mm'                        },                        scaleLabel: {                            display: true,                            labelString: 'Date'                        }                    }],                    yAxes: [{                        scaleLabel: {                            display: true,                            labelString: 'value'                        }                    }]                },                tooltips: {                    enabled: false,                    mode: 'index',                    intersect: false,                    custom: customTooltips                },                legend: {                    labels: {                        defaultFontColor: '#c17b00',                        fontColor: '#c17b00',                        labelTextColors: '#c17b00',                    }                }            }        });    }    window.onload = load_graph();    document.getElementById("data_temp").onclick = function () {        chartNumber = 2;        load_graph();    };    document.getElementById("data_hum").onclick = function () {        chartNumber = 3;        load_graph();    };    document.getElementById("data_pres").onclick = function () {        chartNumber = 4;        load_graph();    };</script>